

hmri = {
    '\u00b6': 'z',
    '\u00df': 'y',
    '\u00ae': 'x',
    '\u00a9': 'w',
    '\u2122': 'v',
    '\u00b4': 'u',
    '\u00a8': 't',
    '\u2260': 's',
    '\u00c6': 'r',
    '\u00d8': 'q',
    '\u221e': 'p',
    '\u00b1': 'o',
    '\u2264': 'n',
    '\u2265': 'm',
    '\u00a5': 'l',
    '\u00b5': 'k',
    '\u2202': 'j',
    '\u2211': 'i',
    '\u220f': 'h',
    '\u03c0': 'g',
    '\u222b': 'f',
    '\u00aa': 'e',
    '\u00ba': 'd',
    '\u03a9': 'c',
    '\u00e6': 'b',
    '\u00f8': 'a',
    '\u00bf': '?',  # FIXME
    '\u00a1': '_',
    '\u00ac': '?',  # FIXME
    '\u221a': ']',
    '\u0192': '\\',
    '\u2248': '[',
    '\u2206': 'Z',
    '\u00ab': 'Y',
    '\u00bb': 'X',
    '\u2026': 'W',
    '\u00a0': 'V',
    '\u00c0': 'U',
    '\u00c3': 'T',
    '\u00d5': 'S',
    '\u0152': 'R',
    '\u0153': 'Q',
    '\u2013': 'P',
    '\u2014': 'O',
    '\u201c': 'N',
    '\u201d': 'M',
    '\u2018': 'L',
    '\u2019': 'K',
    '\u00f7': 'J',
    '\u25ca': 'I',
    '\u00ff': 'H',
    '\u0178': 'G',
    '\u2044': 'F',
    '\u20ac': 'E',
    '\u2039': 'D',
    '\u203a': 'C',
    '\ufb01': 'B',
    '\ufb02': 'A',
    '\u2021': '?',  # FIXME
    '\u00b7': '?',
    '\u201a': '>',
    '\u201e': '?',  # FIXME
    '\u2030': '?',  # FIXME
    '\u00c2': ';',
    '\u00ca': ':',
    '\u00c1': '9',
    '\u00cb': '8',
    '\u00c8': '7',
    '\u00cd': '6',
    '\u00ce': '5',
    '\u00cf': '4',
    '\u00cc': '3',
    '\u00d3': '2',
    '\u00d4': '1',
    '\uf8ff': '0',
    '\u00d2': '/',
    '\u00da': '.',
    '\u00db': '-',
    '\u00d9': '?',  # FIXME
    '\u0131': '+',
    '\u02c6': '*',
    '\u02dc': ')',
    '\u00af': '(',
    '\u02d8': '?',  # FIXME
    '\u02d9': '?',  # FIXME
    '\u02da': '%',
    #
    '\u0049': '\u00d7',  # Ã—
}


def recode(text: str, recoder: dict | None = None) -> str:
    if not recoder:
        return text
    return ''.join(recoder.get(x, x) for x in text)
